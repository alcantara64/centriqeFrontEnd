<!-- 01042021 - Abhishek - Init version -->
<!-- 01042021 - Abhishek - CA-334: Implement Frontend "load file". -->
<div class="main-container">
  <div class="table-container mat-elevation-z8">
    <div class="table-top">
      <div class="table-top_row1">
        <h2 class="table-title">Load Customer Data</h2>
      </div>

      <div class="table-top_row2 d-flex">
      
      </div>
    </div>
    <mat-divider></mat-divider>
      <mat-progress-bar *ngIf="uploadedProgress && !isUploadComplete" mode="indeterminate" color="warn" [ngStyle]="{ height: '3px' }"></mat-progress-bar>

    <mat-card style="padding: 0px 16px;">
      <!-- <mat-card-content> -->
        <mat-tab-group
        animationDuration="0ms"
        [(selectedIndex)]="selectedIndex">
        <mat-tab
        label="Select file and upload">
        <mat-card class="card-container">
          <!-- <mat-card class="card-container"> -->
          <mat-card-header >
            <div class="d-flex justify-content-between w-100">
            <mat-card-title style="font-size: 18px; margin-top: 4px; margin: 0px;">
              Upload files
            </mat-card-title>
            <mat-card-title style="font-size: 18px; margin-bottom: 0px; ">
              Download sample file:
              <button
                mat-mini-fab
                matTooltip="Download"
                matTooltipPosition="above"
                color="none"
                [ngClass]="[
                  'mat-elevation-z0',
                  'action-buttons',
                  'download-button'
                ]"
                >
                <mat-icon [ngClass]="['download-icon']">download</mat-icon>
              </button>
            </mat-card-title>
          </div>
          </mat-card-header>
          <mat-divider></mat-divider>
        </mat-card>
        <mat-card class="shadow-none pt-0">
            <!-- <span style="padding-top: 9px; font-size: 13px;">
              Upload logo :
            </span> -->
          <mat-file-upload
          [labelText]="'Upload file :'"
          [selectButtonText]="'Select File'"
          [allowMultipleFiles]="true"
          [showUploadButton]="true"
          [acceptedTypes]="'.xlsx'"
          (uploadClicked)="onUpload($event)"
          >
          <!-- (selectedFilesChanged)="onFileSelect($event)" -->
        </mat-file-upload>

      </mat-card>
        </mat-tab>
        <mat-tab
        label="Uploaded Files">
        <mat-card class="card-container">
          <mat-card-header>
            <mat-card-title style="font-size: 18px;">
              Uploaded files
            </mat-card-title>
          </mat-card-header>
          <mat-divider></mat-divider>
        </mat-card>
            <!-- <mat-card-content> -->
              <div class="shadow-none pb-4 table-container-table">
                <table mat-table [dataSource]="dataSource" matSort>
                  <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element?.fileName }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="size">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Size</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element?.size | fileSize }}
                    </td>
                  </ng-container>

                  <ng-container
                  class="action-buttons-container"
                  matColumnDef="action_buttons"
                  stickyEnd
                >
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element">
                      <div class="action-buttons-row">
                        <button
                mat-mini-fab
                matTooltip="View"
                matTooltipPosition="above"
                color="none"
                [ngClass]="[
                  'mat-elevation-z0',
                  'action-buttons',
                  'view-button'
                ]"
                >
                (click)="onViewFile(element?.fileReference)" -->
                <mat-icon [ngClass]="['view-icon']">visibility</mat-icon>
              </button>
                      </div>
                    </td>
                  </ng-container>
                  <!-- Sticky header row -->
        <tr
        mat-header-row
        *matHeaderRowDef="displayedColumns; sticky: true"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">
          No data
          <!-- No data matching the filter "{{ input.value }}" -->
        </td>
      </tr>
                </table>
              </div>
            <!-- </mat-card-content> -->

        </mat-tab>
      </mat-tab-group>
      <!-- </mat-card-content> -->
    </mat-card>
  </div>
</div>
